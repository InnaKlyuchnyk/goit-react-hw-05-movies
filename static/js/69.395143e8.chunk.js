"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[69,635,79],{948:function(e,n,t){t.d(n,{qw:function(){return u},hG:function(){return l},IH:function(){return d},Cm:function(){return h},$S:function(){return m}});var r=t(861),a=t(757),c=t.n(a),i="b5cd3fae011a36a857068d95d756f08e",o="https://api.themoviedb.org/3/";function u(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"trending/all/day?api_key=").concat(i)).then((function(e){if(e.ok)return e.json()})).catch((function(e){return console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(n,"?api_key=").concat(i,"&language=en-US")).then((function(e){if(e.ok)return e.json()})).catch((function(e){return console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(n,"/credits?api_key=").concat(i,"&language=en-US")).then((function(e){if(e.ok)return e.json()})).catch((function(e){return console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"movie/").concat(n,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(e){if(e.ok)return e.json()})).catch((function(e){return console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"search/movie?api_key=").concat(i,"&language=en-US&query=").concat(n,"&page=1&include_adult=false")).then((function(e){if(e.ok)return e.json()})).catch((function(e){return console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},69:function(e,n,t){t.r(n),t.d(n,{OneMovieCard:function(){return _},default:function(){return x}});var r,a=t(501),c=t(871),i=t(791),o=t(79),u="BackLink_goBackButton__y6XuN",s="BackLink_icon__R3GJi",l=["title","titleId"];function f(){return f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function p(e,n){var t=e.title,a=e.titleId,c=d(e,l);return i.createElement("svg",f({id:"icon-arrow-left",viewBox:"0 0 32 32",ref:n,"aria-labelledby":a},c),t?i.createElement("title",{id:a},t):null,r||(r=i.createElement("path",{d:"M1 16l15 15v-9h16v-12h-16v-9z"})))}var h=i.forwardRef(p),v=(t.p,t(184)),m=function(){var e,n,t,r=(0,c.TH)(),o=(0,i.useRef)(r);return(0,v.jsxs)(a.rU,{to:null!==(e=null===o||void 0===o||null===(n=o.current)||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:u,children:[(0,v.jsx)(h,{width:"24px",height:"24px",className:s}),"Go back"]})},g=t(635),_=function(){var e=(0,o.default)(),n=e.movie,t=e.loading,r=e.movieId,u=(0,c.TH)().state,s=(0,i.useRef)(u);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:g.default.moviePage,children:[t&&(0,v.jsx)("h2",{children:"Loading"}),!t&&(0,v.jsx)(m,{}),n&&(0,v.jsxs)("div",{className:g.default.movieCard,children:[(0,v.jsx)("img",{src:n.poster_path?"https://image.tmdb.org/t/p/w500"+n.poster_path:"https://sd.keepcalms.com/i/sorry-no-picture-available-2.png",alt:n.title,width:"280px",height:"auto",className:g.default.movieImg}),(0,v.jsxs)("div",{className:g.default.movieDescription,children:[(0,v.jsxs)("h3",{children:[n.title?n.title:n.name," (",n.release_date.slice(0,4),")"]}),(0,v.jsxs)("h5",{children:["User score: ",10*n.vote_average,"%"]}),(0,v.jsx)("h5",{children:"Overview"}),(0,v.jsx)("p",{children:n.overview}),(0,v.jsx)("h5",{children:"Genres"}),n.genres.map((function(e){return(0,v.jsx)("p",{className:g.default.genre,children:e.name},e.id)}))]})]})]}),(0,v.jsxs)("div",{className:g.default.additInfo,children:[(0,v.jsx)("h4",{children:"Additional information"}),(0,v.jsx)(a.rU,{to:"/movies/".concat(r,"/cast"),className:g.default.link,state:{from:s.current},children:"Cast"}),(0,v.jsx)(a.rU,{to:"/movies/".concat(r,"/reviews"),className:g.default.link,state:{from:s.current},children:"Reviews"}),(0,v.jsx)(c.j3,{})]})]})},x=_},79:function(e,n,t){t.r(n);var r=t(861),a=t(885),c=t(757),i=t.n(c),o=t(948),u=t(791),s=t(871);n.default=function(){var e=(0,s.UO)().movieId,n=(0,u.useState)(null),t=(0,a.Z)(n,2),c=t[0],l=t[1],f=(0,u.useState)(!1),d=(0,a.Z)(f,2),p=d[0],h=d[1];return(0,u.useEffect)((function(){h(!0);var n=function(){var n=(0,r.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.hG)(e).then(l).finally((function(){return h(!1)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]),{movie:c,loading:p,movieId:e}}},635:function(e,n,t){t.r(n),n.default={moviePage:"OneMovieCard_moviePage__rCqiC",goBack:"OneMovieCard_goBack__YjVnZ",movieCard:"OneMovieCard_movieCard__-qcbD",movieDescription:"OneMovieCard_movieDescription__a6T+L",additInfo:"OneMovieCard_additInfo__BNbeV",link:"OneMovieCard_link__+O6BR",genre:"OneMovieCard_genre__mfKhz"}}}]);
//# sourceMappingURL=69.395143e8.chunk.js.map