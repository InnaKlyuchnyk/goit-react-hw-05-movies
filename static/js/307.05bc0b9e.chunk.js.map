{"version":3,"file":"static/js/307.05bc0b9e.chunk.js","mappings":"0SAAMA,EAAU,mCACVC,EAAW,gCAEV,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACqBC,MAAM,GAAD,OAC1BF,EAD0B,oCACUD,IAEtCI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MATzB,cACCG,EADD,yBAUEA,GAVF,kEAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,uFACsBX,MAAM,GAAD,OAC3BF,EAD2B,iBACVa,EADU,oBACSd,EADT,oBAG7BI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MATzB,cACCM,EADD,yBAUEA,GAVF,kEAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA2BF,GAA3B,uFACoBX,MAAM,GAAD,OACzBF,EADyB,iBACRa,EADQ,4BACmBd,EADnB,oBAG3BI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MATzB,cACCQ,EADD,yBAUEA,GAVF,kEAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BJ,GAA5B,uFACiBX,MAAM,GAAD,OACtBF,EADsB,iBACLa,EADK,4BACsBd,EADtB,2BAGxBI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MATzB,cACCU,EADD,yBAUEA,GAVF,kEAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAoCC,GAApC,uFACgBlB,MAAM,GAAD,OACrBF,EADqB,gCACWD,EADX,iCAC2CqB,EAD3C,gCAGvBjB,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MATzB,cACCa,EADD,yBAWEA,GAXF,oE,uGCmBP,UApEoB,WAClB,OAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOD,EAAP,KAAeI,EAAf,KACA,GAA8BH,EAAAA,EAAAA,WAAS,GAAvC,eAAOI,EAAP,KAAgBC,EAAhB,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJJ,EAAYK,IAAI,WAClBf,EAAAA,EAAAA,IAAqBU,EAAYK,IAAI,UAClC/B,MAAK,SAAAgC,GACJV,EAAUU,EAAKC,YAEhBC,SAAQ,kBAAMV,GAAW,QAE7B,CAACE,IA2BJ,OACE,iCACE,kBAAMS,UAAWC,EAAAA,QAAAA,KAAaC,SAtBb,SAAAC,GAEnB,GADAA,EAAMC,iBACoB,KAAtBnB,EAAWoB,OACb,OAAOC,EAAAA,EAAAA,IAAM,wBAAyB,CACpCC,MAAO,CACLC,WAAY,UACZC,MAAO,YAKb5B,EAAAA,EAAAA,IAAqBI,GAClBpB,MAAK,SAAAgC,GACJV,EAAUU,EAAKC,YAEhBC,SAAQ,kBAAMV,GAAW,MAE5BG,EAAe,CAAEkB,MAAOzB,KAKtB,WACE,kBAAO0B,SA5BQ,SAAAR,GACnB,IAAQrB,EAAUqB,EAAMS,cAAhB9B,MACRI,EAAcJ,EAAM+B,mBA2BhB,mBAAQC,KAAK,SAASd,UAAWC,EAAAA,QAAAA,YAAjC,sBAIDb,IAAW,oCACO,IAAlBL,EAAOgC,SACN,wBACGhC,EAAOiC,KAAI,SAAAC,GACV,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAM5B,GAAhD,SACGwB,EAAMK,SAFFL,EAAME,c,2BC5D7B,WAAgB,KAAO,0BAA0B,YAAc","sources":["services/fetches.js","views/SerchMovies/SerchMovies.js","webpack://react-homework-template/./src/views/SerchMovies/SerchMovies.module.css?2d63"],"sourcesContent":["const API_KEY = 'b5cd3fae011a36a857068d95d756f08e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchTrendCollection() {\n  const trendMovies = await fetch(\n    `${BASE_URL}trending/all/day?api_key=${API_KEY}`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .catch(error => console.log(error));\n  return trendMovies;\n}\n\nexport async function movieDetails(movieId) {\n  const oneMovieInfo = await fetch(\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .catch(error => console.log(error));\n  return oneMovieInfo;\n}\n\nexport async function movieActors(movieId) {\n  const actorsInfo = await fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .catch(error => console.log(error));\n  return actorsInfo;\n}\n\nexport async function movieReviews(movieId) {\n  const reviews = await fetch(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .catch(error => console.log(error));\n  return reviews;\n}\n\nexport async function fetchMoviesByKeyWord(value) {\n  const movies = await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${value}&page=1&include_adult=false`\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .catch(error => console.log(error));\n\n  return movies;\n}\n","import styles from './SerchMovies.module.css';\nimport { useState, useEffect } from 'react';\nimport { fetchMoviesByKeyWord } from '../../services/fetches';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nconst SerchMovies = () => {\n  const [serchQuery, setSerchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [serchParams, setSerchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (serchParams.get('query')) {\n      fetchMoviesByKeyWord(serchParams.get('query'))\n        .then(data => {\n          setMovies(data.results);\n        })\n        .finally(() => setLoading(false));\n    }\n  }, [serchParams]);\n\n  const handleChange = event => {\n    const { value } = event.currentTarget;\n    setSerchQuery(value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (serchQuery.trim() === '') {\n      return toast('Type something please', {\n        style: {\n          background: '#f6f7c1',\n          color: 'black',\n        },\n      });\n    }\n\n    fetchMoviesByKeyWord(serchQuery)\n      .then(data => {\n        setMovies(data.results);\n      })\n      .finally(() => setLoading(false));\n\n    setSerchParams({ query: serchQuery });\n  };\n\n  return (\n    <>\n      <form className={styles.form} onSubmit={handleSubmit}>\n        <input onChange={handleChange}></input>\n        <button type=\"submit\" className={styles.serchButton}>\n          Serch\n        </button>\n      </form>\n      {loading && <h2>Loading</h2>}\n      {movies.length !== 0 && (\n        <ul>\n          {movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default SerchMovies;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SerchMovies_form__r2vBC\",\"serchButton\":\"SerchMovies_serchButton__dCjPO\"};"],"names":["API_KEY","BASE_URL","fetchTrendCollection","fetch","then","response","ok","json","catch","error","console","log","trendMovies","movieDetails","movieId","oneMovieInfo","movieActors","actorsInfo","movieReviews","reviews","fetchMoviesByKeyWord","value","movies","useState","serchQuery","setSerchQuery","setMovies","loading","setLoading","useSearchParams","serchParams","setSerchParams","location","useLocation","useEffect","get","data","results","finally","className","styles","onSubmit","event","preventDefault","trim","toast","style","background","color","query","onChange","currentTarget","toLowerCase","type","length","map","movie","to","id","state","from","title"],"sourceRoot":""}